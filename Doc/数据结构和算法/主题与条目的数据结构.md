# 主题与条目的数据结构


## 数据结构总览
* 【主题ID——主题名】映射数组            ID-FirstName
* 【主题ID——主题对象】映射数组          ID-Subject
* 【主题ID树】对象                     IDTree
* 【主题ID——主题路径】映射数组          ID-Routes
* 【条目系统】对象                     Items
* 【条目ID——主题路径】对象             ItemID-Route
* 【主题路径——条目ID】Map(ES6 Map)     Route-ItemID



## 【主题ID——主题名】映射数组
* 每个主题拥有一个唯一的数字ID，在【主题ID——主题名】映射数组中，数字ID作为数组索引，相
应的主题名作为对应的数组项值
* 一个主题可能有不同的若干名字（保存为一个数组），这里的主题名是指首要名称，即数组首项
* 同一个主题在主题树中可以出现在多个分支，但都拥有相同的ID。因此在【主题ID——主题名】映
射数组不存在重复的项



## 【主题ID——主题对象】映射数组
* 每个主题ID对应唯一的一个主题对象
* 每个主题对象包括该主题的若干信息。名称、说明等。



## 【主题ID树】对象
* 树结构节点并不是实际的主题对象，不包含与实际主题信息相关的内容
* 每个节点为一个对象，包含以下属性
    * id：该主题的ID
    * children属性: 该主题的子主题节点数组
    * cata：非必须的属性。同一级的若干主题可能需要根据某个标准分类，则该属性值为类别名
            称字符串。例如年中行事主题中存在各具体种的行事主题，可以按照月份将其分类，
            则某个具体行事主题的cata属性可以是“四月”、“十一月”等。
    * 自定义分类属性：一般情况下只需要cata一个用于分类的属性就可以了，但有些主题还需要
                    进一步添加分类属性。例如某些主题既可以通过风格分类，也可以通过地
                    区分类，则除了用cata保存风格以外，还需要自定义一个属性来保存地区。



## 【主题ID——主题路径】映射数组
1. 因为同一个主题可以出现在主题树中的多个分支里，在搜索结果中也要按不同的类别分类，因
此需要记录每个主题有哪些分支。  
例如主题“淡路島”有“根主题-自然物-岛-淡路島”的分支，也有“根主题-宗教体系-相关地域-淡路
島”的分支。
2. 主题路径的存储是通过每个节点的主题ID。例如“根主题”、“自然物”、“岛”和“淡路岛”四个主
题的ID分别为`0`、`1`、`12`、`259`，则该条主题路径保存为数组`[0, 1, 12, 259]`
3. 主题ID作为该数组的索引，其对应的数组项是一个包含了该ID所有主题路径数组的数组。（数
组项是二维数组，其中的每个数组项是一个路径数组）



## 【条目系统】对象
* 按照条目的大类和子类将条目分类
* 每个条目在其所在的子类里有唯一的类别内ID（非条目ID）
* 同一个子类的条目有统一的格式来展示条目内容



### 【条目ID——主题路径】对象
条目ID为键，值为一个数组，该数组中包含一个或多个数组，每个数组为一个主题路径。
#### 条目ID结构
条目ID分为三部分：大类ID、子类ID和类别内ID。以`0102435`为例说明：
* 大类ID：条目ID的前两位数，用来标志该条目属于哪个大类。例如`01`表示属于“书”大类
* 子类ID：大类ID之后的两位数，用来标志该条目属于哪个子类。例如`02`表示属于“期刊”子类
* 类别内ID：子类内具体的条目ID，以自然数的方式从0开始自增



## 【主题路径——条目ID】Map
主题路径数组作为键，值为引用该主题路径的一个或多个条目的条目ID组成的数组
